<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="shortcut icon" href="{{ url_for('static', filename='assets/images/logo/logo-2.svg') }}" type="image/x-icon" />
  <title>Gladney Business Performance - Gladney Center</title>

  <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/bootstrap.min.css') }}" />
  <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/lineicons.css') }}" />
  <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/materialdesignicons.min.css') }}" />
  <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/main.css') }}" />
</head>

<body>
  <!-- Preloader -->
  <div id="preloader">
    <div class="spinner"></div>
  </div>

  <!-- Sidebar -->
  <aside class="sidebar-nav-wrapper" style="display: flex; flex-direction: column; height: 100vh;">
    <div class="navbar-logo">
      <a href="{{ url_for('dashboard') }}">
        <img src="{{ url_for('static', filename='assets/images/logo/logo.svg') }}" alt="logo" style="width: 220px; height: auto;" />
      </a>
    </div>
    <nav class="sidebar-nav">
      <ul>
        <li class="nav-item nav-item-has-children">
          <a href="#0" data-bs-toggle="collapse" data-bs-target="#ddmenu_1" aria-controls="ddmenu_1" aria-expanded="false">
            <span class="icon"><svg width="20" height="20"><path d="..."/></svg></span>
            <span class="text">Dashboard</span>
          </a>
          <ul id="ddmenu_1" class="collapse show dropdown-nav">
            <li><a href="{{ url_for('dashboard') }}"> Expectant Mother </a></li>
            <li><a href="{{ url_for('business') }}" class="active"> Gladney Business Performance </a></li>
            <li><a href="{{ url_for('traffic') }}"> Page Traffic Monitor </a></li>
          </ul>
        </li>
        <li class="nav-item nav-item-has-children">
          <a href="#0" data-bs-toggle="collapse" data-bs-target="#ddmenu_4" aria-controls="ddmenu_4" aria-expanded="false">
            <span class="icon"><svg width="20" height="20"><path d="..."/></svg></span>
            <span class="text">Links</span>
          </a>
          <ul id="ddmenu_4" class="collapse dropdown-nav">
            <li><a href="{{ url_for('alerts') }}"> Consolidated </a></li>
          </ul>
        </li>
        <li class="nav-item">
          <a href="{{ url_for('notification') }}">
            <span class="icon"><svg width="20" height="20"><path d="..."/></svg></span>
            <span class="text">Notifications</span>
          </a>
        </li>
      </ul>
    </nav>
    <div class="promo-box">
      <div class="text-center">
        <img class="mx-auto" src="{{ url_for('static', filename='assets/images/logo/logo-icon-big.jpeg') }}" alt="Logo" style="width: 40px;" />
        <small style="font-size: 10px;">Powered by UpStart13</small>
      </div>
    </div>
  </aside>
  <div class="overlay"></div>

  <!-- Main Content -->
  <main class="main-wrapper">
    <!-- Header -->
    {% include 'header.html' %}

    <section class="section">
      <div class="container-fluid">
        <div class="title-wrapper pt-30">
          <div class="row align-items-center">
            <div class="col-md-6">
              <div class="title">
                <h4>Gladney Business Performance</h4>
              </div>
            </div>
          </div>
        </div>

        {% if iframe_url %}
        <!-- MENU HORIZONTAL -->
        <style>
          .top-nav { display: flex; background: #fff; padding: 10px 30px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
          .main-menu { display: flex; list-style: none; gap: 40px; margin: 0; padding: 0; }
          .menu-item { position: relative; cursor: pointer; font-weight: 600; display: flex; align-items: center; gap: 6px; }
          .submenu, .nested-submenu { display: none; position: absolute; background: #fff; border: 1px solid #ddd; box-shadow: 0 4px 8px rgba(0,0,0,0.1); min-width: 220px; z-index: 999; }
          .submenu li, .nested-submenu li { padding: 10px 15px; cursor: pointer; white-space: nowrap; }
          .submenu li:hover, .nested-submenu li:hover { background: #f0f0f0; }
          .menu-item:hover > .submenu { display: block; }
          .submenu li.position-relative:hover > .nested-submenu { display: block; left: 220px; top: 0; }
          .menu-icon { width: 16px; height: 16px; }
        </style>

        <nav class="top-nav">
          <ul class="main-menu">
            <li class="menu-item">
              <span>Domestic Infant ▼</span>
              <ul class="submenu">
                <li class="position-relative">Adoptive Parents
                  <ul class="nested-submenu">
                    <li onclick="loadIframe('domestic-adoptive-performance')">Performance</li>
                    <li onclick="loadIframe('domestic-adoptive-recent')">Recent Perspective</li>
                    <li onclick="loadIframe('domestic-adoptive-process')">Process Timeline</li>
                  </ul>
                </li>
                <li class="position-relative">Birth Parents
                  <ul class="nested-submenu">
                    <li onclick="loadIframe('domestic-birth-performance')">Performance</li>
                    <li onclick="loadIframe('domestic-birth-recent')">Recent Perspective</li>
                    <li onclick="loadIframe('domestic-birth-breakdown')">Breakdown by State</li>
                  </ul>
                </li>
              </ul>
            </li>
            <li class="menu-item">
              <span>New Beginnings ▼</span>
              <ul class="submenu">
                <li onclick="loadIframe('new-adoptive-performance')">Performance</li>
                <li onclick="loadIframe('new-adoptive-recent')">Recent Perspective</li>
                <li onclick="loadIframe('new-adoptive-process')">Process Timeline</li>
              </ul>
            </li>
            <li class="menu-item">
              <span>Drilldown Tables ▼</span>
              <ul class="submenu">
                <li onclick="loadIframe('drilldown-domestic')">Domestic Infant</li>
                <li onclick="loadIframe('drilldown-new')">New Beginnings</li>
              </ul>
            </li>
          </ul>
        </nav>

        <!-- Iframe -->
        <div style="width: 100%; height: 80vh; margin-top: 20px;">
          <iframe id="dashboard-iframe" src="{{ iframe_url }}" frameborder="0" style="width: 100%; height: 100%; border: none;"></iframe>
        </div>

        <script>
          const iframeUrls = {
            'domestic-adoptive-performance': 'https://lookerstudio.google.com/embed/reporting/704ba1ac-c624-464f-a9f5-4f0f7ecadbfc/page/p_0cruxnlesd',
            'domestic-adoptive-recent': 'https://lookerstudio.google.com/embed/reporting/704ba1ac-c624-464f-a9f5-4f0f7ecadbfc/page/p_fs1i0mafsd',
            'domestic-adoptive-process': 'https://lookerstudio.google.com/embed/reporting/704ba1ac-c624-464f-a9f5-4f0f7ecadbfc/page/p_jaslgym7rd',
            'domestic-birth-performance': 'https://lookerstudio.google.com/embed/reporting/704ba1ac-c624-464f-a9f5-4f0f7ecadbfc/page/p_n5o80slctd',
            'domestic-birth-recent': 'https://lookerstudio.google.com/embed/reporting/704ba1ac-c624-464f-a9f5-4f0f7ecadbfc/page/p_ox7c5fxitd',
            'domestic-birth-breakdown': 'https://lookerstudio.google.com/embed/reporting/704ba1ac-c624-464f-a9f5-4f0f7ecadbfc/page/p_eoarhx0jtd',
            'new-adoptive-performance': 'https://lookerstudio.google.com/embed/reporting/704ba1ac-c624-464f-a9f5-4f0f7ecadbfc/page/p_pnl8efo3sd',
            'new-adoptive-recent': 'https://lookerstudio.google.com/embed/reporting/704ba1ac-c624-464f-a9f5-4f0f7ecadbfc/page/p_dbfsn7afsd',
            'new-adoptive-process': 'https://lookerstudio.google.com/embed/reporting/704ba1ac-c624-464f-a9f5-4f0f7ecadbfc/page/p_84ojqj4asd',
            'drilldown-domestic': 'https://lookerstudio.google.com/embed/reporting/704ba1ac-c624-464f-a9f5-4f0f7ecadbfc/page/p_g64kpxaatd',
            'drilldown-new': 'https://lookerstudio.google.com/embed/reporting/704ba1ac-c624-464f-a9f5-4f0f7ecadbfc/page/p_q32x6kaatd'
          };

          function loadIframe(key) {
            document.getElementById('dashboard-iframe').src = iframeUrls[key];
          }
        </script>
        {% endif %}
      </div>
    </section>
  </main>

  <!-- JS Scripts -->
  <script src="{{ url_for('static', filename='assets/js/bootstrap.bundle.min.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/js/main.js') }}"></script>
</body>
</html>
